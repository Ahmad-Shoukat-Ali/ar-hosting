<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>AR Redirect</title>
</head>
<body>
  <p>Launching AR experience...</p>

  <script>
    const myWebARLink = "https://mywebar.com/p/Project_2_soqi7kpa9d"; // Replace with your mywebar link
    const iosUSDZ = "https://ahmad-shoukat-ali.github.io/ar-hosting/fishfinal.usdz"; // iOS Quick Look
    const androidGLB = "https://ahmad-shoukat-ali.github.io/ar-hosting/fishfinal.glb"; // Android Scene Viewer

    function isIOS() {
      return /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
    }

    function isAndroid() {
      return /Android/.test(navigator.userAgent);
    }

    function launchAR() {
      if (isIOS()) {
        // Open Quick Look
        const link = document.createElement('a');
        link.rel = 'ar';
        link.href = iosUSDZ;
        document.body.appendChild(link);
        link.click();
      } else if (isAndroid()) {
        // Open Scene Viewer
        const sceneViewerUrl = `intent://arvr.google.com/scene-viewer/1.0?file=${encodeURIComponent(androidGLB)}#Intent;scheme=https;package=com.google.ar.core;action=android.intent.action.VIEW;end;`;
        window.location.href = sceneViewerUrl;

        // Fallback: redirect to myWebAR after short delay
        setTimeout(() => {
          window.location.href = myWebARLink;
        }, 1500); // 1.5 seconds
      } else {
        // Other devices / unsupported â†’ redirect directly
        window.location.href = myWebARLink;
      }
    }

    launchAR();
  </script>
</body>
</html>
